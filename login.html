<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login | SignUp </title>
    <link rel="icon" type="image/png" href="assests/images/icons8-resume-48.png">
    <link rel="stylesheet" href="assests/css/main.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
        <script src="https://cdn.tailwindcss.com"></script>
        
        <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
</head>


<body class="bg-gradient-to-r from-blue-200 to-green-200 h-screen">
    
    <nav class="navbar bg-white" style="background: linear-gradient(to right, #010129, rgb(8, 8, 110) , #786beb);
    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.3); height: 90px;
        padding: 15px 0; ">

        <div class="container">
            <div class="navbar-content">
                <div class="navbar-and-toggler">
                    <a href="index.html" class="navbar-brand">
                        <img src="assests/images/logo-1.png" alt="" class="navbar-brand-icon" style="margin-top: 30px; margin-left: 30px;">
                        <span class="navbar-brand-text" style="margin-top: 30px;">ResumeBuilder</span>
                    </a>
                    <button type="button" class="navbar-toggler-btn">
                        <div class="bar"></div>
                        <div class="bar"></div>
                        <div class="bar"></div>
                    </button>
                </div>
                <div class="navbar-buttons" id="navbarButtons">
                    <!-- Welcome message will be added dynamically here -->
                    <div id="userInfo" style="color: whitesmoke;"></div>
                </div>
            </div>
        </div>
    </nav>
    
    <div class="flex items-center justify-center h-screen ">
        <div class="bg-white p-8 rounded  shadow-md w-90">
            <div class="mb-8">
                <button id="loginBtn" class="px-6 py-3 bg-blue-600 text-white rounded-full focus:outline-none">Login</button>
                <button id="signupBtn" class="px-6 py-3 bg-gray-400 text-gray-800 rounded-full ml-4 focus:outline-none">Signup</button>
            </div>
    
            <!-- Login Form -->
            <form id="loginForm" class="bg-gradient-to-r from-blue-200 to-green-200 p-8 rounded-lg shadow-lg">
                <label for="loginUsername" class="block mb-4 text-lg text-gray-700">
                    Username or Email
                </label>
                <input type="text" id="loginUsername" name="loginUsername" placeholder="Enter your username or email" class="w-full px-4 py-2 border border-gray-300 rounded mb-4 focus:outline-none focus:border-blue-400">
    
                <label for="loginPassword" class="block mb-4 text-lg text-gray-700">
                    Password
                </label>
                <input type="password" id="loginPassword" name="loginPassword" placeholder="Enter your password" class="w-full px-4 py-2 border border-gray-300 rounded mb-4 focus:outline-none focus:border-blue-400">
    
                <button type="submit" class="w-full px-6 py-3 bg-blue-500 text-white rounded-full focus:outline-none">Login</button>
            </form>
    
            <!-- Signup Form (Hidden by default) -->
            <form id="signupForm" class="hidden bg-gradient-to-r from-blue-200 to-green-200 p-8 rounded-lg shadow-lg">
                <label for="signupUsername" class="block mb-4 text-lg text-gray-700">
                    First & Last Name
                </label>
                <input type="text" id="signupUsername" name="signupUsername" placeholder="Enter your full name" class="w-full px-4 py-2 border border-gray-300 rounded mb-4 focus:outline-none focus:border-blue-400">
    
                <label for="signupEmail" class="block mb-4 text-lg text-gray-700">
                    Email
                </label>
                <input type="email" id="signupEmail" name="signupEmail" placeholder="Enter your email" class="w-full px-4 py-2 border border-gray-300 rounded mb-4 focus:outline-none focus:border-blue-400">
    
                <label for="signupPassword" class="block mb-4 text-lg text-gray-700">
                    Password
                </label>
                <input type="password" id="signupPassword" name="signupPassword" placeholder="Enter your password" class="w-full px-4 py-2 border border-gray-300 rounded mb-4 focus:outline-none focus:border-blue-400">
    
                <label for="confirmPassword" class="block mb-4 text-lg text-gray-700">
                    Confirm Password
                </label>
                <input type="password" id="confirmPassword" name="confirmPassword" placeholder="Confirm your password" class="w-full px-4 py-2 border border-gray-300 rounded mb-4 focus:outline-none focus:border-blue-400">
    
                <button type="submit" class="w-full px-6 py-3 bg-green-500 text-white rounded-full focus:outline-none">Signup</button>
            </form>
        </div>
    </div>
    

    <script>

const loginBtn = document.getElementById('loginBtn');
const signupBtn = document.getElementById('signupBtn');
const loginForm = document.getElementById('loginForm');
const signupForm = document.getElementById('signupForm');
const userInfo = document.getElementById('userInfo');

loginBtn.addEventListener('click', () => {
    loginForm.classList.remove('hidden');
    signupForm.classList.add('hidden');
    loginBtn.classList.add('bg-blue-500', 'text-white');
    signupBtn.classList.remove('bg-green-500', 'text-white');
    loginBtn.classList.remove('bg-blue-500', 'text-white');
});

signupBtn.addEventListener('click', () => {
    signupForm.classList.remove('hidden');
    loginForm.classList.add('hidden');
    signupBtn.classList.add('bg-green-500', 'text-white');
    loginBtn.classList.remove('bg-blue-500', 'text-white');
    loginBtn.classList.remove('bg-blue-500', 'text-white');
});

// Check if the user is logged in
const loggedInUser = JSON.parse(localStorage.getItem('loggedInUser'));

if (loggedInUser) {
    // Hide login/signup buttons and show user info
    userInfo.innerText = `Welcome, ${loggedInUser.username}`;
    userInfo.classList.remove('hidden');
    loginBtn.classList.add('hidden');
    signupBtn.classList.add('hidden');
} else {
    // Show login/signup buttons and hide user info
    userInfo.classList.add('hidden');
    loginBtn.classList.remove('hidden');
    signupBtn.classList.remove('hidden');
}

// Handle user registration
signupForm.addEventListener('submit', function (event) {
    event.preventDefault(); // Prevent default form submission

    const username = document.getElementById('signupUsername').value;
    const email = document.getElementById('signupEmail').value;
    const password = document.getElementById('signupPassword').value;
    const confirmPassword = document.getElementById('confirmPassword').value;

    // Check if password and confirm password match
    if (password !== confirmPassword) {
        alert('Password and Confirm Password do not match.');
        return;
      
    }

    // Get existing users from localStorage or initialize an empty array
    const users = JSON.parse(localStorage.getItem('users')) || [];

    // Check if the username or email is already registered
    const isExistingUser = users.some(user => user.username === username || user.email === email);
    if (isExistingUser) {
        alert('Username or Email already exists. Please use a different one.');
        return;
        
    }
   
    // Create a new user object
    const newUser = { username, email, password };

    // Add the new user to the list of users
    users.push(newUser);

    // Save the updated list of users to localStorage
    localStorage.setItem('users', JSON.stringify(users));

    // Redirect the user to the login page after successful registration
    window.location.href = 'login.html';
});


// Handle user login
loginForm.addEventListener('submit', function (event) {
    event.preventDefault(); // Prevent default form submission

    const usernameOrEmail = document.getElementById('loginUsername').value;
    const password = document.getElementById('loginPassword').value;

    // Get existing users from localStorage
    const users = JSON.parse(localStorage.getItem('users')) || [];

    // Check if the username or email and password match
    const loggedInUser = users.find(user => (user.username === usernameOrEmail || user.email === usernameOrEmail) && user.password === password);

    if (loggedInUser) {
        // Save logged in user to localStorage
        localStorage.setItem('loggedInUser', JSON.stringify(loggedInUser));

        // Show alert for successful login
        alert('Login successful');
      

        // Redirect the user to index.html after successful login
        window.location.href = 'index.html';
    } else {
        // User is not found or password is incorrect
         alert('Invalid username/email or password. Please try again.');
       
    }
});

    </script>
</body>
</html>